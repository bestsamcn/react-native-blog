webpackJsonp([4,26],{356:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),c=r(s),f=a(31),u=(r(f),a(218));a(357);var p=function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"footer margin-top-20"},c.default.createElement("div",{className:"webmap"},c.default.createElement(u.Link,{to:"/"},"首页"),c.default.createElement(u.Link,{to:""},"搜索"),c.default.createElement(u.Link,{to:""},"关于"),c.default.createElement(u.Link,{to:""},"留言")),c.default.createElement("div",{className:"copyright"},"copyright@2017 bestsamcn"))}}]),t}(c.default.Component);t.default=p},357:function(e,t,a){var r=a(358);"string"==typeof r&&(r=[[e.id,r,""]]);var i,n={};n.transform=i;a(282)(r,n);r.locals&&(e.exports=r.locals)},358:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".footer{width:100%;background:#fff;//:fixed;//:0;text-align:center;padding:20px 20px 5px}.footer .copyright{display:block;font-size:12px;color:#999}.footer .webmap{display:-webkit-flex;display:flex;overflow:hidden;justify-content:center}.footer .webmap a{margin:10px;color:#2b4356}",""])},359:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=i(n),l=a(172),s=i(l),c=a(322),f=r(c);a(360);var u=a(362),p=i(u),d=a(218),m=function(e){var t=e.articleList,a=e.isMore,r=e.isShowMore,i=void 0===r||r,n=e.isMobile,l=e.onLoadMore,s=function(e){var t=new Image,a=e.target;t.src=e.target.src,t.onload=function(e){var t=e.path[0].width,r=e.path[0].height;t>r?a.style="height:100%;width:initial":a.style="height:initial;width:100%"}},c=function(e){console.log(d.hashHistory,"ffffffff"),d.hashHistory.push(e)};return o.default.createElement("div",{className:"article-list"},t.map(function(e){return o.default.createElement("div",{className:e.poster&&!n?"item has-right":"item",onClick:function(){return c("/article/detail/"+e._id)},key:e._id},o.default.createElement("div",{className:"left"},o.default.createElement("div",{className:"title"},o.default.createElement("h4",{className:"color-black"},e.title),o.default.createElement("div",{className:"info margin-top-10"},o.default.createElement("span",{className:"icon-comment"},e.commentNum," Comments"),o.default.createElement("span",{className:"icon-eye-open"},e.readNum," Views"),o.default.createElement("span",{className:"icon-tag"},e.tag?e.tag.name:"null"),o.default.createElement("a",{href:"javascript:;",className:e.isLiked?"icon-heart active":"icon-heart"},e.likeNum))),o.default.createElement("p",{className:"preview"},"摘要: ",e.previewText),o.default.createElement("div",{className:"bottom"},o.default.createElement("a",{href:"javascript:;",className:"more"},e.category?e.category.name:"我可能被删了"),o.default.createElement("a",{className:"icon-calendar more no-border color-gray"},p.default.dateFormat(e.createTime,"yyyy-MM-dd")),e.lastEditTime&&o.default.createElement("a",{className:"icon-edit more no-border color-gray"},p.default.dateFormat(e.lastEditTime,"yyyy-MM-dd")))),!!e.poster&&!n&&o.default.createElement("div",{className:"right"},o.default.createElement("div",{className:"img"},o.default.createElement("img",{src:f.POSTER_URL+"/"+e.poster,onLoad:s}))))}),o.default.createElement("div",{className:"padding-20-0"},i&&a&&o.default.createElement("a",{href:"javascript:;",onClick:l,className:"more-btn"},"More"),i&&!a&&o.default.createElement("p",{className:"text-center color-gray padding-20-0"},"没有更多了")))};m.propTypes={articleList:s.default.array.isRequired,isMore:s.default.bool,isShowMore:s.default.bool,isMobile:s.default.bool,onLoadMore:s.default.func},t.default=m},360:function(e,t,a){var r=a(361);"string"==typeof r&&(r=[[e.id,r,""]]);var i,n={};n.transform=i;a(282)(r,n);r.locals&&(e.exports=r.locals)},361:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".article-list{background:#fff;width:100%;padding:0 10px}.article-list .item{width:100%;padding:20px 0;position:relative;overflow:hidden;border-bottom:1px solid #eee}.article-list .item.has-right{padding-right:230px}.article-list .item .left{width:100%}.article-list .item .left .preview{color:#3e5e77}.article-list .item .right{width:180px;height:100%;position:absolute;right:0;padding:10px;display:-webkit-flex;display:flex;align-items:center;top:0}.article-list .item:first-of-type{margin-top:0}.article-list .item .img{width:100%;height:100%;overflow:hidden;border-radius:2px;padding:0;margin:0;display:flex;display:-webkit-flex;justify-content:center;align-items:center}.article-list .item .img img,.article-list .item .title{width:100%}.article-list .item .title h4{font-size:16px;text-align:left;//:10px 0}.article-list .item .title .info{overflow:hidden;margin:10px 0}.article-list .item .title .info span{float:left;margin-right:20px;color:#bbb;font-size:12px}.article-list .item .title .info span:before{margin-right:5px}.article-list .item .title .info a{float:right;color:#bbb;font-size:12px}.article-list .item .title .info a.active{color:#e24c3c}.article-list .item .title .info a:before{margin-right:5px}.article-list .item .preview{text-align:left;color:#999;line-height:22px;margin-top:10px}.article-list .item .left .bottom{display:-webkit-flex;display:flex;align-items:center;margin-top:10px}.article-list .item .left .bottom .more{padding:2px 6px;text-align:center;color:#fff;border:1px solid #1abc9c;display:block;float:left;font-size:12px;color:#1abc9c;border-radius:2px}.article-list .item .left .bottom .more:before{margin-right:5px}.article-list .more-btn{width:60%;height:40px;display:block;line-height:40px;text-align:center;color:#bdc3c7;border-radius:40px;border:1px solid #bdc3c7;margin:0 auto}@media screen and (min-width:768px){.article-list{padding:0 20px 10px}}",""])},362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=arguments,r={};r.dateFormat=function(e,t){if(!a[0])return"暂无";e=new Date(e);var r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(t,a){var i=r[a];return void 0!==i?(t.length>1&&(i="0"+i,i=i.substr(i.length-2)),i):"y"===a?(e.getFullYear()+"").substr(4-t.length):t})},r.dateDesc=function(e){var t=(new Date).getTime(),a=isNaN(e)?new Date(e).getTime():e,r=t-a,i="",n=1e3,o=6e4,l=60*o,s=24*l,c=30*s,f=12*c,u=r/f,p=r/c,d=r/(7*s),m=r/s,h=r/l,g=r/o,b=r/n;return i=u>=1?parseInt(u)+"年前":p>=1?parseInt(p)+"个月前":d>=1?parseInt(d)+"周前":m>=1?parseInt(m)+"天前":h>=1?parseInt(h)+"小时前":g>=1?parseInt(g)+"分钟前":b>=1?parseInt(b)+"秒前":"刚刚"},r.textEllipsis=function(e,t,a){if(a=a||!1,e)return e.length<=t?e:a?e.substring(0,t)+"...":e.substring(0,t)},r.transNum=function(e){return e?e=e>=1e4?Math.round(e/1e4*100)/100+" W":e>=1e3?Math.round(e/1e3*100)/100+" K":e:0},t.default=r},378:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(1),f=i(c),u=a(356),p=i(u),d=a(294),m=r(d),h=a(330),g=i(h),b=a(170),y=a(172),v=(i(y),a(218),a(322)),x=a(359),w=i(x);a(379);var E=function(e){function t(e){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={pageIndex:1,pageSize:v.PAGE_SIZE,articleList:[],isMore:!0,keyword:"",isCache:!1},a}return l(t,e),s(t,[{key:"getSearchList",value:function(e){var t=this;if(this.state.isMore){var a={pageIndex:this.state.pageIndex,pageSize:this.state.pageSize,keyword:this.state.keyword};m.getArticleList(a).then(function(a){if(a.data.map(function(e){return g.default.getCookie(e._id)?e.isLiked=!0:e.isLiked=!1}),e?t.setState({articleList:a.data}):t.setState({articleList:t.state.articleList.concat(a.data)}),t.state.pageIndex*t.state.pageSize>=a.total)t.setState({isMore:!1});else{var r=t.state.pageIndex+1;t.setState({pageIndex:r,isMore:!0})}t.setState({isFirst:!1})})}}},{key:"setKeyword",value:function(e){var t=e.target.value;this.setState({keyword:t})}},{key:"keywordEnter",value:function(e){var t=this;return 13===e.keyCode&&this.setState({isMore:!0,pageIndex:1},function(){t.getSearchList(!0)}),!1}},{key:"componentWillMount",value:function(){var e=this;return this.props.hotWord&&this.props.hotWord.isFromHotWord&&this.props.hotWord.name?void this.setState({keyword:this.props.hotWord.name},function(){e.state.isCache||e.getSearchList(!0)}):void this.getSearchList(!0)}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"search"},f.default.createElement("div",{className:"wrapper"},f.default.createElement("div",{className:"moveup search-bar sm-100"},f.default.createElement("form",{style:{width:"100%"},noValidate:!0,action:"javascript:;"},f.default.createElement("input",{type:"search",name:"search",placeholder:"搜索",value:this.state.keyword,onChange:this.setKeyword.bind(this),onKeyDown:this.keywordEnter.bind(this),className:"search-input"})),f.default.createElement("i",{className:"icon-search search-btn"})),f.default.createElement("div",{className:"margin-top-20"},f.default.createElement(w.default,{onLoadMore:function(){return e.getSearchList(!1)},isMobile:this.props.isMobile,isShowMore:!0,className:"padding-0 border-top-1",isMore:this.state.isMore,articleList:this.state.articleList}))),f.default.createElement(p.default,{className:"margin-top-20"}))}}]),t}(f.default.Component),k=function(e){return{isMobile:e.common.isMobile,hotWord:e.common.hotWord}};t.default=(0,b.connect)(k)(E)},379:function(e,t,a){var r=a(380);"string"==typeof r&&(r=[[e.id,r,""]]);var i,n={};n.transform=i;a(282)(r,n);r.locals&&(e.exports=r.locals)},380:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".search{width:100%}.search .wrapper{max-width:1000px;margin:0 auto;padding:10px;position:relative;text-align:center;background:#fff}.search .wrapper .search-bar{display:-webkit-flex;display:flex;margin:0 auto;position:relative;align-items:center;justify-content:center}.search .wrapper .search-bar .search-input{padding:10px;border:none;width:100%;background:#f6f6f6;height:40px;font-size:14px;text-indent:20px;text-align:left}.search .wrapper .search-bar .search-btn{border:none;position:absolute;top:50%;font-size:12px;margin-top:-7px;color:#999;left:10px;margin-left:0}.search .wrapper .tips-list{width:100%;position:absolute;top:40px;left:0}.search .wrapper .tips-list li{line-height:40px;text-align:center;//:10px;list-style:none;font-size:14px;background:rgba(0,0,0,.5);color:#fff}.search .wrapper .tips-list li:first-of-type{background:#20a0ff}.search .wrapper .tips-list li:nth-of-type(2){background:#13ce66}.search .wrapper .tips-list li:nth-of-type(3){background:#f7ba2a}.search .wrapper .tips-list li:nth-of-type(4){background:#ff4949}@media screen and (min-width:768px){.search .wrapper{padding:20px}}",""])},727:function(e,t,a){var r=a(728);"string"==typeof r&&(r=[[e.id,r,""]]);var i,n={};n.transform=i;a(282)(r,n);r.locals&&(e.exports=r.locals)},728:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".admin-message .info div{color:#666;margin-bottom:10px}.admin-message .info div span{color:#333;font-size:16px;margin-bottom:10px}.admin-message .message-content{font-size:16px}",""])},729:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(1),f=i(c),u=a(294),p=r(u);a(727);var d=function(e){function t(e){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={id:"",message:{}},a}return l(t,e),s(t,[{key:"getDetail",value:function(){var e=this;p.getMessageDetail({id:e.props.params.id}).then(function(t){e.setState({message:t.data,id:t.data._id})})}},{key:"componentWillMount",value:function(){this.getDetail()}},{key:"componentWillReceiceProps",value:function(){setTimeout(this.getDetail.bind(this))}},{key:"shouldComponentUpdate",value:function(e,t){return e.params.id!==this.state.id}},{key:"render",value:function(){return f.default.createElement("div",{className:"admin-message"},f.default.createElement("div",{className:"info color-blue"},f.default.createElement("div",{className:"block"},"昵称：",f.default.createElement("span",null,this.state.message.name)),f.default.createElement("div",{className:"block"},"邮箱：",f.default.createElement("span",null,this.state.message.email)),f.default.createElement("div",{className:"block"},"时间：",f.default.createElement("span",null,this.state.message.postTime))),f.default.createElement("p",{className:"margin-top-20 message-content"},this.state.message.content))}}]),t}(f.default.Component);t.default=d}});