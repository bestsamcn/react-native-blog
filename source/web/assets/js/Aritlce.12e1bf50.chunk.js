webpackJsonp([7,25],{356:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=a(1),c=r(s),f=a(31),u=(r(f),a(218));a(357);var p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return n(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"footer margin-top-20"},c.default.createElement("div",{className:"webmap"},c.default.createElement(u.Link,{to:"/"},"首页"),c.default.createElement(u.Link,{to:""},"搜索"),c.default.createElement(u.Link,{to:""},"关于"),c.default.createElement(u.Link,{to:""},"留言")),c.default.createElement("div",{className:"copyright"},"copyright@2017 bestsamcn"))}}]),t}(c.default.Component);t.default=p},357:function(e,t,a){var r=a(358);"string"==typeof r&&(r=[[e.id,r,""]]);var i,o={};o.transform=i;a(282)(r,o);r.locals&&(e.exports=r.locals)},358:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".footer{width:100%;background:#fff;//:fixed;//:0;text-align:center;padding:20px 20px 5px}.footer .copyright{display:block;font-size:12px;color:#999}.footer .webmap{display:-webkit-flex;display:flex;overflow:hidden;justify-content:center}.footer .webmap a{margin:10px;color:#2b4356}",""])},359:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(1),n=i(o),l=a(172),s=i(l),c=a(322),f=r(c);a(360);var u=a(362),p=i(u),d=a(218),m=function(e){var t=e.articleList,a=e.isMore,r=e.isShowMore,i=void 0===r||r,o=e.isMobile,l=e.onLoadMore,s=function(e){var t=new Image,a=e.target;t.src=e.target.src,t.onload=function(e){var t=e.path[0].width,r=e.path[0].height;t>r?a.style="height:100%;width:initial":a.style="height:initial;width:100%"}},c=function(e){console.log(d.hashHistory,"ffffffff"),d.hashHistory.push(e)};return n.default.createElement("div",{className:"article-list"},t.map(function(e){return n.default.createElement("div",{className:e.poster&&!o?"item has-right":"item",onClick:function(){return c("/article/detail/"+e._id)},key:e._id},n.default.createElement("div",{className:"left"},n.default.createElement("div",{className:"title"},n.default.createElement("h4",{className:"color-black"},e.title),n.default.createElement("div",{className:"info margin-top-10"},n.default.createElement("span",{className:"icon-comment"},e.commentNum," Comments"),n.default.createElement("span",{className:"icon-eye-open"},e.readNum," Views"),n.default.createElement("span",{className:"icon-tag"},e.tag?e.tag.name:"null"),n.default.createElement("a",{href:"javascript:;",className:e.isLiked?"icon-heart active":"icon-heart"},e.likeNum))),n.default.createElement("p",{className:"preview"},"摘要: ",e.previewText),n.default.createElement("div",{className:"bottom"},n.default.createElement("a",{href:"javascript:;",className:"more"},e.category?e.category.name:"我可能被删了"),n.default.createElement("a",{className:"icon-calendar more no-border color-gray"},p.default.dateFormat(e.createTime,"yyyy-MM-dd")),e.lastEditTime&&n.default.createElement("a",{className:"icon-edit more no-border color-gray"},p.default.dateFormat(e.lastEditTime,"yyyy-MM-dd")))),!!e.poster&&!o&&n.default.createElement("div",{className:"right"},n.default.createElement("div",{className:"img"},n.default.createElement("img",{src:f.POSTER_URL+"/"+e.poster,onLoad:s}))))}),n.default.createElement("div",{className:"padding-20-0"},i&&a&&n.default.createElement("a",{href:"javascript:;",onClick:l,className:"more-btn"},"More"),i&&!a&&n.default.createElement("p",{className:"text-center color-gray padding-20-0"},"没有更多了")))};m.propTypes={articleList:s.default.array.isRequired,isMore:s.default.bool,isShowMore:s.default.bool,isMobile:s.default.bool,onLoadMore:s.default.func},t.default=m},360:function(e,t,a){var r=a(361);"string"==typeof r&&(r=[[e.id,r,""]]);var i,o={};o.transform=i;a(282)(r,o);r.locals&&(e.exports=r.locals)},361:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".article-list{background:#fff;width:100%;padding:0 10px}.article-list .item{width:100%;padding:20px 0;position:relative;overflow:hidden;border-bottom:1px solid #eee}.article-list .item.has-right{padding-right:230px}.article-list .item .left{width:100%}.article-list .item .left .preview{color:#3e5e77}.article-list .item .right{width:180px;height:100%;position:absolute;right:0;padding:10px;display:-webkit-flex;display:flex;align-items:center;top:0}.article-list .item:first-of-type{margin-top:0}.article-list .item .img{width:100%;height:100%;overflow:hidden;border-radius:2px;padding:0;margin:0;display:flex;display:-webkit-flex;justify-content:center;align-items:center}.article-list .item .img img,.article-list .item .title{width:100%}.article-list .item .title h4{font-size:16px;text-align:left;//:10px 0}.article-list .item .title .info{overflow:hidden;margin:10px 0}.article-list .item .title .info span{float:left;margin-right:20px;color:#bbb;font-size:12px}.article-list .item .title .info span:before{margin-right:5px}.article-list .item .title .info a{float:right;color:#bbb;font-size:12px}.article-list .item .title .info a.active{color:#e24c3c}.article-list .item .title .info a:before{margin-right:5px}.article-list .item .preview{text-align:left;color:#999;line-height:22px;margin-top:10px}.article-list .item .left .bottom{display:-webkit-flex;display:flex;align-items:center;margin-top:10px}.article-list .item .left .bottom .more{padding:2px 6px;text-align:center;color:#fff;border:1px solid #1abc9c;display:block;float:left;font-size:12px;color:#1abc9c;border-radius:2px}.article-list .item .left .bottom .more:before{margin-right:5px}.article-list .more-btn{width:60%;height:40px;display:block;line-height:40px;text-align:center;color:#bdc3c7;border-radius:40px;border:1px solid #bdc3c7;margin:0 auto}@media screen and (min-width:768px){.article-list{padding:0 20px 10px}}",""])},362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=arguments,r={};r.dateFormat=function(e,t){if(!a[0])return"暂无";e=new Date(e);var r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};return t=t.replace(/([yMdhmsqS])+/g,function(t,a){var i=r[a];return void 0!==i?(t.length>1&&(i="0"+i,i=i.substr(i.length-2)),i):"y"===a?(e.getFullYear()+"").substr(4-t.length):t})},r.dateDesc=function(e){var t=(new Date).getTime(),a=isNaN(e)?new Date(e).getTime():e,r=t-a,i="",o=1e3,n=6e4,l=60*n,s=24*l,c=30*s,f=12*c,u=r/f,p=r/c,d=r/(7*s),m=r/s,g=r/l,h=r/n,y=r/o;return i=u>=1?parseInt(u)+"年前":p>=1?parseInt(p)+"个月前":d>=1?parseInt(d)+"周前":m>=1?parseInt(m)+"天前":g>=1?parseInt(g)+"小时前":h>=1?parseInt(h)+"分钟前":y>=1?parseInt(y)+"秒前":"刚刚"},r.textEllipsis=function(e,t,a){if(a=a||!1,e)return e.length<=t?e:a?e.substring(0,t)+"...":e.substring(0,t)},r.transNum=function(e){return e?e=e>=1e4?Math.round(e/1e4*100)/100+" W":e>=1e3?Math.round(e/1e3*100)/100+" K":e:0},t.default=r},399:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),c=a(1),f=i(c),u=a(172),p=(i(u),a(170)),d=a(359),m=i(d),g=a(356),h=i(g),y=a(322),b=a(293),v=a(330),x=i(v);a(400);var w=a(294),E=r(w),M=function(e){function t(e){o(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={articleList:[],pageIndex:1,pageSize:y.PAGE_SIZE,tag:"",category:"",isMore:!0},a}return l(t,e),s(t,[{key:"getList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state.isMore){var a={pageIndex:this.state.pageIndex,pageSize:this.state.pageSize,tag:this.state.tag,category:this.state.category};E.getArticleList(a).then(function(a){if(a.total<=e.state.pageSize*e.state.pageIndex)e.setState({isMore:!1});else{var r=e.state.pageIndex+1;e.setState({isMore:!0,pageIndex:r})}a.data.map(function(e){return x.default.getCookie(e._id)?e.isLiked=!0:e.isLiked=!1});var i=e.state.articleList.concat(a.data);t?e.setState({articleList:a.data}):e.setState({articleList:i})})}}},{key:"refreshList",value:function(){var e=this;this.setState({pageIndex:1,isMore:!0},function(){return e.getList(!0)})}},{key:"getFromHome",value:function(){var e=this;if(this.props.articleParams.isFromHome&&(this.props.articleParams.tag||this.props.articleParams.category)){var t=this.props.articleParams.tag,a=this.props.articleParams.category,r=1;this.setState({tag:t,category:a,isMore:!0,pageIndex:r},function(){e.props.setArticleParams({isFromHome:!1,tag:"",category:""}),e.getList(!0)})}}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"article"},f.default.createElement("div",{className:"main"},f.default.createElement(m.default,{onLoadMore:function(){return e.getList(!1)},articleList:this.state.articleList,isMore:this.state.isMore})),f.default.createElement(h.default,{className:"margin-top-20"}))}},{key:"componentWillMount",value:function(){var e=this;if(this.props.articleParams.isFromHome&&(this.props.articleParams.tag||this.props.articleParams.category)){var t=this.props.articleParams.tag,a=this.props.articleParams.category,r=1;this.setState({tag:t,category:a,isMore:!0,pageIndex:r},function(){e.props.setArticleParams({isFromHome:!1,tag:"",category:""}),e.getList(!0)})}}},{key:"componentWillReceiveProps",value:function(){}}]),t}(f.default.Component),_=function(e){return{articleParams:e.common.articleParams}},P=function(e){return{setArticleParams:function(t){return e((0,b.setArticleParams)(t))}}};t.default=(0,p.connect)(_,P)(M)},400:function(e,t,a){var r=a(401);"string"==typeof r&&(r=[[e.id,r,""]]);var i,o={};o.transform=i;a(282)(r,o);r.locals&&(e.exports=r.locals)},401:function(e,t,a){t=e.exports=a(281)(void 0),t.push([e.id,".article .main{max-width:1000px;margin:0 auto}",""])}});